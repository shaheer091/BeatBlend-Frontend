"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[733],{2733:(dt,h,u)=>{u.r(h),u.d(h,{ArtistModule:()=>ct});var d=u(6814),c=u(9310),g=u(7394),t=u(4946),p=u(5759),m=u(9897);function _(i,a){1&i&&t._UZ(0,"app-loading")}let b=(()=>{class i{constructor(e){this.artistServ=e,this.artistHome$=new g.w0}ngOnInit(){this.showLoading=!0,this.getArtistHome()}getArtistHome(){this.artistHome$=this.artistServ.artistGetHome().subscribe({next:e=>{this.showLoading=!1,this.artistDetails=e[0]},error:e=>{alert(e.error.message)}})}ngOnDestroy(){this.artistHome$.unsubscribe()}static#t=this.\u0275fac=function(o){return new(o||i)(t.Y36(p.J))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-artist-home"]],decls:10,vars:8,consts:[[4,"ngIf"],[1,"font-bold","text-3xl","gradient-text","mb-7"],[1,"w-screen","flex","justify-center","items-center","sm:flex-row","flex-col","gap-5"],[1,"h-36","w-36","border","card1","text-white","flex","items-center","justify-center","cursor-pointer","rounded-xl","uppercase",3,"routerLink"],[1,"h-36","w-36","border","card2","text-white","flex","items-center","justify-center","cursor-pointer","rounded-xl","uppercase",3,"routerLink"],[1,"h-36","w-36","border","card3","text-white","flex","items-center","justify-center","cursor-pointer","rounded-xl","uppercase",3,"routerLink"]],template:function(o,n){1&o&&(t.YNc(0,_,1,0,"app-loading",0),t.TgZ(1,"p",1),t._uU(2),t.qZA(),t.TgZ(3,"div",2)(4,"div",3),t._uU(5),t.qZA(),t.TgZ(6,"div",4),t._uU(7),t.qZA(),t.TgZ(8,"div",5),t._uU(9),t.qZA()()),2&o&&(t.Q6J("ngIf",n.showLoading),t.xp6(2),t.hij("hey, ",null==n.artistDetails?null:n.artistDetails.username,""),t.xp6(2),t.Q6J("routerLink","/artist/followingList"),t.xp6(1),t.hij("following ",null==n.artistDetails||null==n.artistDetails.following?null:n.artistDetails.following.length," "),t.xp6(1),t.Q6J("routerLink","/artist/followersList"),t.xp6(1),t.hij("followers ",null==n.artistDetails||null==n.artistDetails.followers?null:n.artistDetails.followers.length," "),t.xp6(1),t.Q6J("routerLink","/artist/songs"),t.xp6(1),t.hij("songs ",null==n.artistDetails||null==n.artistDetails.songs?null:n.artistDetails.songs.length," "))},dependencies:[d.O5,c.rH,m.N],styles:[".card1[_ngcontent-%COMP%], .card2[_ngcontent-%COMP%], .card3[_ngcontent-%COMP%]{transition:all .5s ease-in-out}.card1[_ngcontent-%COMP%]{background:linear-gradient(135deg,#00ff87,#60efff)}.card2[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ff930f,#fff95b)}.card3[_ngcontent-%COMP%]{background:linear-gradient(135deg,#9bf8f4,#6f7bf7)}.card1[_ngcontent-%COMP%]:hover, .card2[_ngcontent-%COMP%]:hover, .card3[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.gradient-text[_ngcontent-%COMP%]{background-image:linear-gradient(to right,#7177c1,#ff0048);-webkit-background-clip:text;background-clip:text;color:transparent}"]})}return i})();var x=u(2480),r=u(95);function v(i,a){1&i&&t._UZ(0,"app-loading")}function Z(i,a){1&i&&(t.TgZ(0,"div",26),t._uU(1,"Song file is required"),t.qZA())}function w(i,a){1&i&&(t.TgZ(0,"div",26),t._uU(1,"Title is required"),t.qZA())}function A(i,a){if(1&i&&(t.TgZ(0,"p"),t._uU(1),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Oqu(e.reqMsg)}}function y(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"div",27)(1,"div",28)(2,"h2",29),t._uU(3),t.qZA(),t.TgZ(4,"p",30),t._uU(5),t.qZA(),t.TgZ(6,"button",31),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.goBack())}),t._uU(7,"Close"),t.qZA()()()}if(2&i){const e=t.oxw();t.xp6(3),t.Oqu(e.message),t.xp6(2),t.Oqu(e.description)}}let T=(()=>{class i{constructor(e,o,n){this.formBuilder=e,this.artistServ=o,this.router=n,this.formData=new FormData,this.addSong$=new g.w0}ngOnInit(){this.songForm=this.formBuilder.group({title:["",r.kI.required],artist:[""],album:[""],genre:["",r.kI.required],duration:[""],releaseDate:[""],songFile:["",r.kI.required]})}changing(e){this.formData.delete("songFile"),this.formData.append("songFile",e.target.files[0])}onSubmit(){if(this.songForm.valid){this.showLoading=!0;const e=this.songForm.value;this.formData.append("title",e.title),this.formData.append("artist",e.artist),this.formData.append("album",e.album),this.formData.append("genre",e.genre),this.formData.append("duration",e.duration),this.formData.append("releaseDate",e.releaseDate),this.addSong$=this.artistServ.artistAddSong(this.formData).subscribe({next:o=>{this.showLoading=!1,this.message=o.message,this.description=o.description,this.success=o.success},error:o=>{alert(o)}})}else this.reqMsg="enter the required details",setTimeout(()=>{this.reqMsg=""},3e3)}goBack(){this.success&&this.router.navigate(["artist/home"])}ngOnDestroy(){this.addSong$?.unsubscribe()}static#t=this.\u0275fac=function(o){return new(o||i)(t.Y36(r.qu),t.Y36(p.J),t.Y36(c.F0))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-artist-add-song"]],decls:53,vars:6,consts:[[4,"ngIf"],["enctype","multipart/form-data",1,"p-10",3,"formGroup","ngSubmit"],[1,"mb-4"],["for","songFile",1,"block","text-gray-700","text-sm","font-bold","mb-2"],[1,"text-red-500","-z-10"],["type","file","id","songFile","formControlName","songFile","accept","audio/*",1,"shadow","appearance-none","border","rounded","w-full","py-2","px-3","text-gray-700","leading-tight","focus:outline-none","focus:shadow-outline",3,"change"],["class","text-red-500 text-xs italic",4,"ngIf"],["for","title",1,"block","text-gray-700","text-sm","font-bold","mb-2"],["type","text","id","title","formControlName","title",1,"shadow","appearance-none","border","rounded","w-full","py-2","px-3","text-gray-700","leading-tight","focus:outline-none","focus:shadow-outline"],["for","artist",1,"block","text-gray-700","text-sm","font-bold","mb-2"],["type","text","id","artist","formControlName","artist",1,"shadow","appearance-none","border","rounded","w-full","py-2","px-3","text-gray-700","leading-tight","focus:outline-none","focus:shadow-outline"],["for","album",1,"block","text-gray-700","text-sm","font-bold","mb-2"],["type","text","id","album","formControlName","album",1,"shadow","appearance-none","border","rounded","w-full","py-2","px-3","text-gray-700","leading-tight","focus:outline-none","focus:shadow-outline"],["for","genre",1,"block","text-gray-700","text-sm","font-bold","mb-2"],[1,"text-red-500"],["id","genre","formControlName","genre",1,"shadow","appearance-none","border","rounded","w-full","py-2","px-3","text-gray-700","leading-tight","focus:outline-none","focus:shadow-outline"],["value","pop-music"],["value","rap"],["value","classical"],["value","hip-hop"],["for","duration",1,"block","text-gray-700","text-sm","font-bold","mb-2"],["type","number","id","duration","formControlName","duration",1,"shadow","appearance-none","border","rounded","w-full","py-2","px-3","text-gray-700","leading-tight","focus:outline-none","focus:shadow-outline"],["for","releaseDate",1,"block","text-gray-700","text-sm","font-bold","mb-2"],["type","date","id","releaseDate","formControlName","releaseDate",1,"shadow","appearance-none","border","rounded","w-full","py-2","px-3","text-gray-700","leading-tight","focus:outline-none","focus:shadow-outline"],["type","submit",1,"bg-blue-500","hover:bg-blue-700","text-white","font-bold","py-2","px-4","rounded","focus:outline-none","focus:shadow-outline"],["class","fixed top-0 left-0 right-0 z-50 flex justify-center items-center h-screen bg-black bg-opacity-50",4,"ngIf"],[1,"text-red-500","text-xs","italic"],[1,"fixed","top-0","left-0","right-0","z-50","flex","justify-center","items-center","h-screen","bg-black","bg-opacity-50"],[1,"bg-white","shadow-lg","rounded-3xl","overflow-hidden","text-center","py-4","px-8"],[1,"text-2xl","font-bold","mb-2"],[1,"text-gray-700","text-sm"],[1,"mt-4","bg-blue-500","hover:bg-blue-700","text-white","font-bold","py-2","px-4","rounded","focus:outline-none","focus:shadow-outline",3,"click"]],template:function(o,n){if(1&o&&(t.YNc(0,v,1,0,"app-loading",0),t.TgZ(1,"form",1),t.NdJ("ngSubmit",function(){return n.onSubmit()}),t.TgZ(2,"div",2)(3,"label",3),t._uU(4,"Song File: "),t.TgZ(5,"span")(6,"sup",4),t._uU(7,"*required"),t.qZA()()(),t.TgZ(8,"input",5),t.NdJ("change",function(l){return n.changing(l)}),t.qZA(),t.YNc(9,Z,2,0,"div",6),t.qZA(),t.TgZ(10,"div",2)(11,"label",7),t._uU(12,"Title: "),t.TgZ(13,"span")(14,"sup",4),t._uU(15,"*required"),t.qZA()()(),t._UZ(16,"input",8),t.YNc(17,w,2,0,"div",6),t.qZA(),t.TgZ(18,"div",2)(19,"label",9),t._uU(20,"Artist:"),t.qZA(),t._UZ(21,"input",10),t.qZA(),t.TgZ(22,"div",2)(23,"label",11),t._uU(24,"Album:"),t.qZA(),t._UZ(25,"input",12),t.qZA(),t.TgZ(26,"div",2)(27,"label",13),t._uU(28,"Genre: "),t.TgZ(29,"span")(30,"sup",14),t._uU(31,"*required"),t.qZA()()(),t.TgZ(32,"select",15)(33,"option",16),t._uU(34,"Pop Music"),t.qZA(),t.TgZ(35,"option",17),t._uU(36,"Rap"),t.qZA(),t.TgZ(37,"option",18),t._uU(38,"Classical"),t.qZA(),t.TgZ(39,"option",19),t._uU(40,"Hip-Hop"),t.qZA()()(),t.TgZ(41,"div",2)(42,"label",20),t._uU(43,"Duration (in seconds):"),t.qZA(),t._UZ(44,"input",21),t.qZA(),t.TgZ(45,"div",2)(46,"label",22),t._uU(47,"Release Date:"),t.qZA(),t._UZ(48,"input",23),t.qZA(),t.YNc(49,A,2,1,"p",0),t.TgZ(50,"button",24),t._uU(51,"Add Song"),t.qZA()(),t.YNc(52,y,8,2,"div",25)),2&o){let s,l;t.Q6J("ngIf",n.showLoading),t.xp6(1),t.Q6J("formGroup",n.songForm),t.xp6(8),t.Q6J("ngIf",(null==(s=n.songForm.get("songFile"))?null:s.invalid)&&(null==(s=n.songForm.get("songFile"))?null:s.touched)),t.xp6(8),t.Q6J("ngIf",(null==(l=n.songForm.get("title"))?null:l.invalid)&&(null==(l=n.songForm.get("title"))?null:l.touched)),t.xp6(32),t.Q6J("ngIf",n.reqMsg),t.xp6(3),t.Q6J("ngIf",n.success)}},dependencies:[d.O5,r._Y,r.YN,r.Kr,r.Fj,r.wV,r.EJ,r.JJ,r.JL,r.sg,r.u,m.N]})}return i})();var S=u(4588);function C(i,a){1&i&&t._UZ(0,"app-loading")}function k(i,a){if(1&i&&(t.TgZ(0,"div",4)(1,"p",5),t._uU(2),t.qZA(),t._UZ(3,"i",6),t.qZA()),2&i){const e=t.oxw();t.xp6(2),t.Oqu(e.message)}}function q(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"button",17),t.NdJ("click",function(n){t.CHM(e);const s=t.oxw().$implicit,l=t.oxw(2);return t.KtG(l.showDeleteConfirmation(n,s._id))}),t._uU(1,"Delete"),t.qZA()}}function U(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"button",18),t.NdJ("click",function(n){t.CHM(e);const s=t.oxw().$implicit,l=t.oxw(2);return t.KtG(l.showDeleteConfirmation(n,s._id))}),t._uU(1,"Undo"),t.qZA()}}function N(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"div",9),t.NdJ("click",function(){const s=t.CHM(e).$implicit,l=t.oxw(2);return t.KtG(l.playSong(s.songUrl))}),t.TgZ(1,"div",10)(2,"div",11)(3,"p",12),t._uU(4),t.qZA()(),t.TgZ(5,"div",11)(6,"p",12),t._uU(7),t.qZA(),t.TgZ(8,"p",12),t._uU(9),t.qZA()()(),t.TgZ(10,"div")(11,"p",13),t.NdJ("click",function(n){const l=t.CHM(e).$implicit,f=t.oxw(2);return t.KtG(f.editSong(n,l._id))}),t._uU(12,"Edit"),t.qZA()(),t.TgZ(13,"div",11)(14,"p",14),t.YNc(15,q,2,0,"button",15),t.YNc(16,U,2,0,"button",16),t.qZA()()()}if(2&i){const e=a.$implicit,o=t.oxw(2);t.xp6(4),t.Oqu(e.title),t.xp6(3),t.AsE("",o.username," , ",e.artist,""),t.xp6(2),t.Oqu(e.genre),t.xp6(6),t.Q6J("ngIf",0==e.deleteStatus),t.xp6(1),t.Q6J("ngIf",1==e.deleteStatus)}}function J(i,a){if(1&i&&(t.TgZ(0,"div",7)(1,"div"),t.YNc(2,N,17,6,"div",8),t.qZA()()),2&i){const e=t.oxw();t.xp6(2),t.Q6J("ngForOf",e.songs)}}function F(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"div",19)(1,"div",20)(2,"h2",21),t._uU(3,"Delete Song Confirmation"),t.qZA(),t.TgZ(4,"p",22),t._uU(5,"Are you sure you want to delete the song? This action cannot be undone."),t.qZA(),t.TgZ(6,"div",23)(7,"button",24),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.deleteSong())}),t._uU(8,"Yes"),t.qZA(),t.TgZ(9,"button",25),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.showDeleteDiv=!1)}),t._uU(10,"Cancel"),t.qZA()()()()}}let L=(()=>{class i{constructor(e,o,n){this.artistServ=e,this.router=o,this.sharedServ=n,this.showDeleteDiv=!1,this.showSongEditForm=!1,this.getSong$=new g.w0,this.deleteSong$=new g.w0}ngOnInit(){this.showLoading=!0,this.getSong()}getSong(){this.getSong$=this.artistServ.artistGetSongs().subscribe({next:e=>{this.showLoading=!1,this.songs=e.songs,this.message=e.message,this.success=e.success,this.username=e.username},error:e=>{alert(e.error.message)}})}deleteSong(){try{this.showLoading=!0,this.deleteSong$=this.artistServ.artistDeleteSong(this.idSong).subscribe({next:e=>{this.showLoading=!1,this.getSong()},error:e=>{alert(e.error.message)}}),this.showDeleteDiv=!1}catch(e){alert(e)}}showDeleteConfirmation(e,o){e.stopPropagation(),this.showDeleteDiv=!0,this.idSong=o}editSong(e,o){e.stopPropagation(),this.router.navigate(["/artist/editSong",o])}playSong(e){this.sharedServ.setSongUrl(e)}ngOnDestroy(){this.getSong$?.unsubscribe(),this.deleteSong$?.unsubscribe()}static#t=this.\u0275fac=function(o){return new(o||i)(t.Y36(p.J),t.Y36(c.F0),t.Y36(S.B))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-artist-song-list"]],decls:4,vars:4,consts:[[4,"ngIf"],["class","alert bg-gray-200 mt-4 px-4 py-3 rounded-md text-gray-700 flex items-center justify-center",4,"ngIf"],["class","table-fixed w-full rounded-3xl overflow-hidden shadow-md mt-4 p-5",4,"ngIf"],["class","fixed top-0 left-0 w-full h-screen bg-black bg-opacity-50 flex justify-center items-center z-50",4,"ngIf"],[1,"alert","bg-gray-200","mt-4","px-4","py-3","rounded-md","text-gray-700","flex","items-center","justify-center"],[1,"text-sm","font-medium","mr-3"],[1,"fas","fa-exclamation-triangle"],[1,"table-fixed","w-full","rounded-3xl","overflow-hidden","shadow-md","mt-4","p-5"],["class","border flex justify-between items-center",3,"click",4,"ngFor","ngForOf"],[1,"border","flex","justify-between","items-center",3,"click"],[1,"flex-grow","flex","flex-col"],[1,""],[1,"px-6","py-1","whitespace-nowrap","text-gray-700"],[1,"cursor-pointer","text-blue-500",3,"click"],[1,"px-6","py-1","whitespace-nowrap"],["class","text-red-500 hover:text-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-opacity-50",3,"click",4,"ngIf"],["class","text-green-500 hover:text-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-opacity-50",3,"click",4,"ngIf"],[1,"text-red-500","hover:text-red-700","focus:outline-none","focus:ring-2","focus:ring-red-500","focus:ring-opacity-50",3,"click"],[1,"text-green-500","hover:text-green-700","focus:outline-none","focus:ring-2","focus:ring-green-500","focus:ring-opacity-50",3,"click"],[1,"fixed","top-0","left-0","w-full","h-screen","bg-black","bg-opacity-50","flex","justify-center","items-center","z-50"],[1,"bg-white","shadow-md","rounded-lg","p-4","overflow-hidden","text-center"],[1,"text-2xl","font-bold","mb-2"],[1,"text-gray-700","text-sm","px-6"],[1,"flex","justify-center","mt-4"],[1,"bg-blue-500","hover:bg-blue-700","text-white","font-bold","py-2","px-4","rounded","focus:outline-none","focus:shadow-outline","mr-2",3,"click"],[1,"bg-gray-200","hover:bg-gray-300","text-gray-700","font-bold","py-2","px-4","rounded","focus:outline-none","focus:shadow-outline",3,"click"]],template:function(o,n){1&o&&(t.YNc(0,C,1,0,"app-loading",0),t.YNc(1,k,4,1,"div",1),t.YNc(2,J,3,1,"div",2),t.YNc(3,F,11,0,"div",3)),2&o&&(t.Q6J("ngIf",n.showLoading),t.xp6(1),t.Q6J("ngIf",!n.success),t.xp6(1),t.Q6J("ngIf",n.success),t.xp6(1),t.Q6J("ngIf",n.showDeleteDiv))},dependencies:[d.sg,d.O5,m.N]})}return i})();function D(i,a){1&i&&t._UZ(0,"app-loading")}function I(i,a){1&i&&(t.TgZ(0,"div",18),t._uU(1,"Please enter a valid email."),t.qZA())}function B(i,a){1&i&&(t.TgZ(0,"p",22),t._uU(1,"Please wait..."),t.qZA())}function Y(i,a){if(1&i&&(t.TgZ(0,"p"),t._uU(1),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.Oqu(e.message)}}function Q(i,a){if(1&i&&(t.TgZ(0,"div",19)(1,"div",20),t.YNc(2,B,2,0,"p",21),t.YNc(3,Y,2,1,"p",0),t.qZA()()),2&i){const e=t.oxw();t.xp6(2),t.Q6J("ngIf",!e.message),t.xp6(1),t.Q6J("ngIf",e.message)}}let O=(()=>{class i{constructor(e,o,n){this.fb=e,this.artistServ=o,this.router=n,this.message="",this.showSavingDiv=!1,this.getProfile$=new g.w0,this.updateProfile$=new g.w0}ngOnInit(){this.showLoading=!0,this.profileForm=this.fb.group({username:[""],email:["",r.kI.email],bio:[""],phoneNumber:[""],dateOfBirth:[""],file:[""]}),this.getProfile$=this.artistServ.artistGetProfile().subscribe({next:e=>{this.showLoading=!1,this.artistProfile=e.artistProfile[0].profile[0],this.artistDetails=e.user,this.profileForm.controls.username.setValue(this.artistDetails.username||""),this.profileForm.controls.email.setValue(this.artistDetails.email||""),this.profileForm.controls.bio.setValue(this.artistProfile?this.artistProfile.bio:""),this.profileForm.controls.phoneNumber.setValue(this.artistProfile?this.artistProfile.phoneNumber:""),this.profileForm.controls.dateOfBirth.setValue(this.artistProfile?this.artistProfile.dateOfBirth:""),this.profileForm.controls.file.setValue(this.artistProfile?this.artistProfile.file:"")},error:e=>{alert(e.error.message)}})}onSubmit(){this.profileForm.valid&&(this.showLoading=!0,this.updateProfile$=this.artistServ.artistUpdateProfile(this.profileForm.value).subscribe({next:e=>{this.showLoading=!1,this.showSavingDiv=!0,setTimeout(()=>{this.message=e.message},2e3),setTimeout(()=>{e.success?(this.router.navigate(["/artist/home"]),this.message=""):(this.showSavingDiv=!1,this.message="")},3e3)},error:e=>{alert(e.error.message)}}))}ngOnDestroy(){this.getProfile$?.unsubscribe(),this.updateProfile$?.unsubscribe()}static#t=this.\u0275fac=function(o){return new(o||i)(t.Y36(r.qu),t.Y36(p.J),t.Y36(c.F0))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-artist-profile"]],decls:30,vars:5,consts:[[4,"ngIf"],[1,"flex","flex-col","p-5","space-y-3",3,"formGroup","ngSubmit"],[1,"mb-2","flex","items-center"],["for","file",1,"w-32","text-right"],["type","file","formControlName","file","accept","image/*",1,"px-3","py-2","rounded-md","border","border-gray-300","focus:border-blue-500","focus:ring-blue-500","focus:ring-opacity-50","w-full"],["for","username",1,"w-32","text-right"],["type","text","formControlName","username",1,"px-3","py-2","rounded-md","border","border-gray-300","focus:border-blue-500","focus:ring-blue-500","focus:ring-opacity-50","w-full"],["for","email",1,"w-32","text-right"],["type","email","formControlName","email",1,"px-3","py-2","rounded-md","border","border-gray-300","focus:border-blue-500","focus:ring-blue-500","focus:ring-opacity-50","w-full"],["class","text-danger text-xs mt-1",4,"ngIf"],["for","bio",1,"w-32","text-right"],["type","text","formControlName","bio",1,"px-3","py-2","rounded-md","border","border-gray-300","focus:border-blue-500","focus:ring-blue-500","focus:ring-opacity-50","w-full"],["for","phoneNumber",1,"w-32","text-right"],["type","number","formControlName","phoneNumber",1,"px-3","py-2","rounded-md","border","border-gray-300","focus:border-blue-500","focus:ring-blue-500","focus:ring-opacity-50","w-full"],["for","dateOfBirth",1,"w-32","text-right"],["type","date","formControlName","dateOfBirth",1,"px-3","py-2","rounded-md","border","border-gray-300","focus:border-blue-500","focus:ring-blue-500","focus:ring-opacity-50","w-full"],["type","submit",1,"px-4","py-2","rounded-md","bg-blue-500","text-white","font-bold","text-center","hover:bg-blue-700","disabled:bg-gray-400","cursor-pointer",3,"disabled"],["class","fixed z-50 inset-0 bg-gray-500 bg-opacity-50 flex justify-center items-center",4,"ngIf"],[1,"text-danger","text-xs","mt-1"],[1,"fixed","z-50","inset-0","bg-gray-500","bg-opacity-50","flex","justify-center","items-center"],[1,"bg-white","rounded-lg","shadow-md","px-8","py-5","text-left"],["class","mb-4",4,"ngIf"],[1,"mb-4"]],template:function(o,n){if(1&o&&(t.YNc(0,D,1,0,"app-loading",0),t.TgZ(1,"form",1),t.NdJ("ngSubmit",function(){return n.onSubmit()}),t.TgZ(2,"div",2)(3,"label",3),t._uU(4,"File Upload"),t.qZA(),t._UZ(5,"input",4),t.qZA(),t.TgZ(6,"div",2)(7,"label",5),t._uU(8,"Username"),t.qZA(),t._UZ(9,"input",6),t.qZA(),t.TgZ(10,"div",2)(11,"label",7),t._uU(12,"Email"),t.qZA(),t._UZ(13,"input",8),t.YNc(14,I,2,0,"div",9),t.qZA(),t.TgZ(15,"div",2)(16,"label",10),t._uU(17,"Bio"),t.qZA(),t._UZ(18,"input",11),t.qZA(),t.TgZ(19,"div",2)(20,"label",12),t._uU(21,"Phone Number"),t.qZA(),t._UZ(22,"input",13),t.qZA(),t.TgZ(23,"div",2)(24,"label",14),t._uU(25,"Date of Birth"),t.qZA(),t._UZ(26,"input",15),t.qZA(),t.TgZ(27,"button",16),t._uU(28,"Submit"),t.qZA()(),t.YNc(29,Q,4,2,"div",17)),2&o){let s;t.Q6J("ngIf",n.showLoading),t.xp6(1),t.Q6J("formGroup",n.profileForm),t.xp6(13),t.Q6J("ngIf",(null==(s=n.profileForm.get("email"))?null:s.invalid)&&(null==(s=n.profileForm.get("email"))?null:s.touched)),t.xp6(13),t.Q6J("disabled",n.profileForm.invalid),t.xp6(2),t.Q6J("ngIf",n.showSavingDiv)}},dependencies:[d.O5,r._Y,r.Fj,r.wV,r.JJ,r.JL,r.sg,r.u,m.N]})}return i})();var P=u(5731),M=u(4409);function $(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"div",13)(1,"ul",14)(2,"li",15),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.showSide=!1)}),t._uU(3,"Home"),t.qZA(),t.TgZ(4,"li",15),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.showSide=!1)}),t._uU(5,"Songs"),t.qZA(),t.TgZ(6,"li",15),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.showSide=!1)}),t._uU(7,"Add Song"),t.qZA(),t.TgZ(8,"li",15),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.showSide=!1)}),t._uU(9,"Notification"),t.qZA(),t.TgZ(10,"li",15),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.showSide=!1)}),t._uU(11,"Settings"),t.qZA(),t.TgZ(12,"li",16),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.logout())}),t._uU(13,"Logout"),t.qZA()()()}2&i&&(t.xp6(2),t.Q6J("routerLink","/artist/home"),t.xp6(2),t.Q6J("routerLink","/artist/songs"),t.xp6(2),t.Q6J("routerLink","/artist/addSong"),t.xp6(2),t.Q6J("routerLink","/artist/notification"),t.xp6(2),t.Q6J("routerLink","/artist/settings"))}let H=(()=>{class i{constructor(e,o,n){this.router=e,this.commonServ=o,this.chatServ=n,this.showSide=!1}showSideBar(){this.showSide=!this.showSide}logout(){localStorage.clear(),this.router.navigate(["/login"]),this.commonServ.toggleToken$.next(!1),this.showSide=!1,this.chatServ.socket.disconnect()}static#t=this.\u0275fac=function(o){return new(o||i)(t.Y36(c.F0),t.Y36(P.v),t.Y36(M.$))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-artist-nav-bar"]],decls:24,vars:9,consts:[[1,"bg-gray-800","text-white","py-4"],[1,"container","mx-auto","flex","justify-between","items-center","px-10"],[1,"text-2xl","font-bold"],[1,"flex","md:hidden"],["src","../../../../../../assets/images/more.png","alt","",1,"h-10","cursor-pointer",3,"click"],[1,"md:flex","hidden","space-x-4"],[1,"cursor-pointer","hover:text-gray-300",3,"routerLink"],[1,"cursor-pointer","hover:text-gray-300",3,"click"],["class","bg-black bg-opacity-50 -translate-x-10 translate-y-[144px] w-full absolute md:hidden",4,"ngIf"],[1,"bg-white","text-black","flex","justify-evenly","items-center","fixed","bottom-0","left-0","w-full","h-16","sm:hidden"],["src","../../../../../assets/images/home.png",1,"h-5","w-5","hover:-translate-y-1","cursor-pointer","transition","text-lg",3,"routerLink","click"],["src","../../../../../assets/images/icons8-music-48.png",1,"h-7","w-7","hover:-translate-y-1","cursor-pointer","transition","text-lg",3,"routerLink","click"],["src","../../../../../assets/images/settings.png",1,"h-5","w-5","hover:-translate-y-1","cursor-pointer","transition","text-lg",3,"routerLink","click"],[1,"bg-black","bg-opacity-50","-translate-x-10","translate-y-[144px]","w-full","absolute","md:hidden"],[1,"text-center","mt-2","space-y-2"],[1,"hover:-translate-y-1","cursor-pointer","transition","text-lg",3,"routerLink","click"],[1,"hover:-translate-y-1","cursor-pointer","transition","text-lg",3,"click"]],template:function(o,n){1&o&&(t.TgZ(0,"nav",0)(1,"div",1)(2,"h1",2),t._uU(3,"Artist Dashboard"),t.qZA(),t.TgZ(4,"div",3)(5,"img",4),t.NdJ("click",function(){return n.showSideBar()}),t.qZA()(),t.TgZ(6,"ul",5)(7,"li",6),t._uU(8,"Home"),t.qZA(),t.TgZ(9,"li",6),t._uU(10,"Songs"),t.qZA(),t.TgZ(11,"li",6),t._uU(12,"Add Song"),t.qZA(),t.TgZ(13,"li",6),t._uU(14,"Notification"),t.qZA(),t.TgZ(15,"li",6),t._uU(16,"Settings"),t.qZA(),t.TgZ(17,"li",7),t.NdJ("click",function(){return n.logout()}),t._uU(18,"Logout"),t.qZA()(),t.YNc(19,$,14,5,"div",8),t.TgZ(20,"div",9)(21,"img",10),t.NdJ("click",function(){return n.showSide=!1}),t.qZA(),t.TgZ(22,"img",11),t.NdJ("click",function(){return n.showSide=!1}),t.qZA(),t.TgZ(23,"img",12),t.NdJ("click",function(){return n.showSide=!1}),t.qZA()()()()),2&o&&(t.xp6(7),t.Q6J("routerLink","/artist/home"),t.xp6(2),t.Q6J("routerLink","/artist/songs"),t.xp6(2),t.Q6J("routerLink","/artist/addSong"),t.xp6(2),t.Q6J("routerLink","/artist/notification"),t.xp6(2),t.Q6J("routerLink","/artist/settings"),t.xp6(4),t.Q6J("ngIf",n.showSide),t.xp6(2),t.Q6J("routerLink","/artist/home"),t.xp6(1),t.Q6J("routerLink","/artist/songs"),t.xp6(1),t.Q6J("routerLink","/artist/settings"))},dependencies:[d.O5,c.rH]})}return i})(),j=(()=>{class i{static#t=this.\u0275fac=function(o){return new(o||i)};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-artist"]],decls:3,vars:0,consts:[[1,"h-[440px]","overflow-auto"]],template:function(o,n){1&o&&(t._UZ(0,"app-artist-nav-bar"),t.TgZ(1,"div",0),t._UZ(2,"router-outlet"),t.qZA())},dependencies:[c.lC,H]})}return i})();function G(i,a){1&i&&t._UZ(0,"app-loading")}let E=(()=>{class i{constructor(e,o,n,s){this.route=e,this.artistServ=o,this.formBuilder=n,this.router=s,this.getSongDetails$=new g.w0,this.editSongDetails$=new g.w0}ngOnInit(){this.showLoading=!0,this.route.params.subscribe(e=>{this.songId=e.id}),this.getSongDetails(),this.initializeForm()}getSongDetails(){this.getSongDetails$=this.artistServ.artistGetSongDetails(this.songId).subscribe({next:e=>{this.showLoading=!1,this.editSongForm.patchValue({title:e.title,artist:e.artist,album:e.album,genre:e.genre,duration:e.duration})},error:e=>{alert(e.error.message)}})}initializeForm(){this.editSongForm=this.formBuilder.group({title:[""],artist:[""],album:[""],genre:[""],duration:[""]})}onSubmit(){this.showLoading=!0,this.editSongDetails$=this.artistServ.artistEditSongDetails(this.songId,this.editSongForm.value).subscribe({next:o=>{this.showLoading=!1,o.message&&setTimeout(()=>{this.router.navigate(["/artist/songs"])},1e3)},error:o=>{alert(o.error.message)}})}ngOnDestroy(){this.getSongDetails$?.unsubscribe(),this.editSongDetails$?.unsubscribe()}static#t=this.\u0275fac=function(o){return new(o||i)(t.Y36(c.gz),t.Y36(p.J),t.Y36(r.qu),t.Y36(c.F0))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-artist-edit-song"]],decls:34,vars:3,consts:[[4,"ngIf"],[2,"background-color","#e0f2f1","padding","20px","border-radius","5px","box-shadow","0 2px 5px rgba(0, 0, 0, 0.1)",3,"formGroup","ngSubmit"],[2,"color","#333","font-weight","bold"],["type","text","formControlName","title",2,"width","100%","padding","10px","border","1px solid #ccc","border-radius","3px","margin-bottom","15px"],["type","text","formControlName","artist",2,"width","100%","padding","10px","border","1px solid #ccc","border-radius","3px","margin-bottom","15px"],["type","text","formControlName","album",2,"width","100%","padding","10px","border","1px solid #ccc","border-radius","3px","margin-bottom","15px"],["formControlName","genre",2,"width","100%","padding","10px","border","1px solid #ccc","border-radius","3px","margin-bottom","15px"],["value","pop"],["value","rap"],["value","classical"],["value","hip-hop"],["type","text","formControlName","duration",2,"width","100%","padding","10px","border","1px solid #ccc","border-radius","3px","margin-bottom","15px"],[2,"background-color","#4CAF50","color","white","padding","10px 20px","border","none","border-radius","3px","margin-right","10px",3,"routerLink"],["type","submit",2,"background-color","#3f51b5","color","white","padding","10px 20px","border","none","border-radius","3px"]],template:function(o,n){1&o&&(t.YNc(0,G,1,0,"app-loading",0),t.TgZ(1,"form",1),t.NdJ("ngSubmit",function(){return n.onSubmit()}),t.TgZ(2,"label",2),t._uU(3,"Title:"),t.qZA(),t._UZ(4,"input",3)(5,"br"),t.TgZ(6,"label",2),t._uU(7,"Artist:"),t.qZA(),t._UZ(8,"input",4)(9,"br"),t.TgZ(10,"label",2),t._uU(11,"Album:"),t.qZA(),t._UZ(12,"input",5)(13,"br"),t.TgZ(14,"label",2),t._uU(15,"Genre:"),t.qZA(),t.TgZ(16,"select",6)(17,"option",7),t._uU(18,"Pop Music"),t.qZA(),t.TgZ(19,"option",8),t._uU(20,"Rap"),t.qZA(),t.TgZ(21,"option",9),t._uU(22,"Classical"),t.qZA(),t.TgZ(23,"option",10),t._uU(24,"Hip-Hop"),t.qZA()(),t._UZ(25,"br"),t.TgZ(26,"label",2),t._uU(27,"Duration:"),t.qZA(),t._UZ(28,"input",11)(29,"br"),t.TgZ(30,"button",12),t._uU(31,"Back"),t.qZA(),t.TgZ(32,"button",13),t._uU(33,"Save Changes"),t.qZA()()),2&o&&(t.Q6J("ngIf",n.showLoading),t.xp6(1),t.Q6J("formGroup",n.editSongForm),t.xp6(29),t.Q6J("routerLink","/artist/songs"))},dependencies:[d.O5,c.rH,r._Y,r.YN,r.Kr,r.Fj,r.EJ,r.JJ,r.JL,r.sg,r.u,m.N]})}return i})();var K=u(6802),z=u(7779);function X(i,a){1&i&&t._UZ(0,"app-loading")}function V(i,a){1&i&&(t.TgZ(0,"div",13),t._uU(1," Image is required"),t.qZA())}function R(i,a){1&i&&(t.TgZ(0,"div",13),t._uU(1," Band name is required"),t.qZA())}function W(i,a){1&i&&(t.TgZ(0,"div",13),t._uU(1," Atleast two member is required"),t.qZA())}function tt(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"div",15)(1,"input",16),t.NdJ("change",function(){const s=t.CHM(e).$implicit,l=t.oxw(2);return t.KtG(l.toggleSelection(s._id))}),t.qZA(),t.TgZ(2,"label"),t._uU(3),t.qZA()()}if(2&i){const e=a.$implicit,o=t.oxw(2);t.xp6(1),t.Q6J("checked",o.selectedArtists.includes(e._id)),t.xp6(2),t.Oqu(e.username)}}function et(i,a){if(1&i&&(t.TgZ(0,"div"),t.YNc(1,tt,4,2,"div",14),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.artists)}}let it=(()=>{class i{constructor(e,o,n){this.formBuilder=e,this.artistServ=o,this.router=n,this.selectedArtists=[],this.formData=new FormData,this.createBand$=new g.w0}ngOnInit(){this.bandForm=this.formBuilder.group({bandImage:[null,r.kI.required],bandName:["",r.kI.required],newMember:["",[r.kI.required]]})}searchArtist(){const e=this.bandForm.value.newMember;""!=e&&this.artistServ.searchArtist(e).subscribe({next:o=>{this.artists=o.artists},error:o=>{alert(o.error.message)}})}toggleSelection(e){const o=this.selectedArtists.indexOf(e);-1===o?this.selectedArtists.push(e):this.selectedArtists.splice(o,1)}changing(e){this.formData.append("bandImage",e.target.files[0])}onSubmit(){this.bandForm.valid?(this.showLoading=!0,this.formData.append("bandName",this.bandForm.value.bandName),this.selectedArtists.forEach(o=>{this.formData.append("artistid[]",o)}),this.createBand$=this.artistServ.createBand(this.formData).subscribe({next:o=>{this.showLoading=!1,o.message&&(localStorage.setItem("isInBand","true"),this.router.navigate(["/artist/home"]))},error:o=>{alert(o.error.message)}})):alert("Enter the form details correctly")}ngOnDestroy(){this.createBand$.unsubscribe()}static#t=this.\u0275fac=function(o){return new(o||i)(t.Y36(r.qu),t.Y36(p.J),t.Y36(c.F0))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-create-band"]],decls:23,vars:8,consts:[[4,"ngIf"],[1,"w-10/12","float-right"],[1,"max-w-sm","mx-auto","mt-8",3,"formGroup","ngSubmit"],[1,"mb-4"],["for","bandImage",1,"block","text-gray-700"],["type","file","accept","image/*","id","bandImage","formControlName","bandImage",1,"form-input","mt-1","block","w-full",3,"change"],["class","text-red-500",4,"ngIf"],["for","bandName",1,"block","text-gray-700"],["type","text","id","bandName","formControlName","bandName",1,"border","form-input","mt-1","block","w-full"],["for","newMember",1,"block","text-gray-700"],["type","text","id","newMember","formControlName","newMember",1,"border","form-input","mt-1","block","w-full",3,"keyup"],["id","submit","type","submit",1,"bg-blue-500","hover:bg-blue-700","text-white","font-bold","py-2","px-4","rounded",3,"disabled"],["id","cancel","type","button",1,"bg-blue-500","hover:bg-blue-700","text-white","font-bold","py-2","px-4","rounded",3,"routerLink"],[1,"text-red-500"],["class","flex cursor-pointer",4,"ngFor","ngForOf"],[1,"flex","cursor-pointer"],["type","checkbox",3,"checked","change"]],template:function(o,n){if(1&o&&(t.YNc(0,X,1,0,"app-loading",0),t.TgZ(1,"div",1)(2,"form",2),t.NdJ("ngSubmit",function(){return n.onSubmit()}),t.TgZ(3,"div",3)(4,"label",4),t._uU(5,"Upload Band Image"),t.qZA(),t.TgZ(6,"input",5),t.NdJ("change",function(l){return n.changing(l)}),t.qZA(),t.YNc(7,V,2,0,"div",6),t.qZA(),t.TgZ(8,"div",3)(9,"label",7),t._uU(10,"Band Name"),t.qZA(),t._UZ(11,"input",8),t.YNc(12,R,2,0,"div",6),t.qZA(),t.TgZ(13,"div",3)(14,"label",9),t._uU(15,"Add New Members"),t.qZA(),t.TgZ(16,"input",10),t.NdJ("keyup",function(){return n.searchArtist()}),t.qZA(),t.YNc(17,W,2,0,"div",6),t.qZA(),t.YNc(18,et,2,1,"div",0),t.TgZ(19,"button",11),t._uU(20,"Create Band"),t.qZA(),t.TgZ(21,"button",12),t._uU(22,"Cancel"),t.qZA()()()),2&o){let s,l,f;t.Q6J("ngIf",n.showLoading),t.xp6(2),t.Q6J("formGroup",n.bandForm),t.xp6(5),t.Q6J("ngIf",(null==(s=n.bandForm.get("bandImage"))?null:s.invalid)&&(null==(s=n.bandForm.get("bandImage"))?null:s.touched)),t.xp6(5),t.Q6J("ngIf",(null==(l=n.bandForm.get("bandName"))?null:l.invalid)&&(null==(l=n.bandForm.get("bandName"))?null:l.touched)),t.xp6(5),t.Q6J("ngIf",(null==(f=n.bandForm.get("newMember"))?null:f.invalid)&&(null==(f=n.bandForm.get("newMember"))?null:f.touched)),t.xp6(1),t.Q6J("ngIf",n.artists),t.xp6(1),t.Q6J("disabled",!n.bandForm.valid),t.xp6(2),t.Q6J("routerLink","/artist/home")}},dependencies:[r._Y,r.Fj,r.JJ,r.JL,r.sg,r.u,c.rH,d.sg,d.O5,m.N]})}return i})();function ot(i,a){1&i&&(t.TgZ(0,"div")(1,"a",5),t._uU(2,"Create Band"),t.qZA()())}function nt(i,a){1&i&&(t.TgZ(0,"div")(1,"a",6),t._uU(2,"Access Band"),t.qZA()())}let rt=(()=>{class i{ngOnInit(){this.hell=localStorage.getItem("isInBand"),"true"==this.hell?this.isInBand=!0:"false"==this.hell&&(this.isInBand=!1)}static#t=this.\u0275fac=function(o){return new(o||i)};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-artist-settings"]],decls:8,vars:2,consts:[[1,"flex","justify-center","py-8"],[1,"flex","flex-col","space-y-4","max-w-sm"],["routerLink","/user/home",1,"button"],["routerLink","/artist/profile",1,"button"],[4,"ngIf"],["routerLink","/artist/createBand",1,"button"],["routerLink","/band/home",1,"button"]],template:function(o,n){1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"a",2),t._uU(3,"Switch to User"),t.qZA(),t.TgZ(4,"a",3),t._uU(5,"Profile"),t.qZA(),t.YNc(6,ot,3,0,"div",4),t.YNc(7,nt,3,0,"div",4),t.qZA()()),2&o&&(t.xp6(6),t.Q6J("ngIf",!n.isInBand),t.xp6(1),t.Q6J("ngIf",n.isInBand))},dependencies:[d.O5,c.rH],styles:[".button[_ngcontent-%COMP%]{display:block;width:100%;padding:12px;text-align:center;color:#fff;background-color:#6b7280;border-radius:8px;transition:background-color .3s ease}.button[_ngcontent-%COMP%]:hover{background-color:#4b5563}"]})}return i})();var st=u(7062);const at=[{path:"",canActivate:[x.C],component:j,children:[{path:"home",component:b},{path:"addSong",component:T},{path:"songs",component:L},{path:"profile",component:O},{path:"settings",component:rt},{path:"editSong/:id",component:E},{path:"followingList",component:K.r},{path:"followersList",component:z.w},{path:"createBand",component:it},{path:"notification",component:st.c},{path:"",redirectTo:"/artist/home",pathMatch:"full"}]}];let lt=(()=>{class i{static#t=this.\u0275fac=function(o){return new(o||i)};static#e=this.\u0275mod=t.oAB({type:i});static#i=this.\u0275inj=t.cJS({imports:[c.Bz.forChild(at),c.Bz]})}return i})();var ut=u(8524);let ct=(()=>{class i{static#t=this.\u0275fac=function(o){return new(o||i)};static#e=this.\u0275mod=t.oAB({type:i});static#i=this.\u0275inj=t.cJS({imports:[d.ez,lt,r.UX,ut.m]})}return i})()}}]);