<!-- <app-side-bar></app-side-bar> -->
<app-loading *ngIf="showLoading"></app-loading>

<div class="sm:w-10/12 w-full sm:float-end">
    <div class="rounded-md p-5">
        <div class="flex items-center">
            <input [(ngModel)]="searchText" type="text" (keyup)="search()" placeholder="Search here..."
                class="px-5 h-14 rounded-full border focus:outline-none focus:ring-blue-500 focus:ring-opacity-50">
        </div>
        <div *ngIf="user" class="mt-5 grid  grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4">
            <div *ngFor="let data of user;let i = index" (click)="userProfile(data._id)"
                class="h-80 border rounded-lg shadow-md hover:shadow-lg object-fit"
                [style.background-image]="data?.profile[0]?.imageUrl ? 'url(' + data?.profile[0]?.imageUrl + ')' : 'url(../../../../../assets/images/account.png)'">
                <div class="flex items-center p-3">
                    <p class="text-black font-bold">{{ data.username }}</p>
                    <img *ngIf="data.isVerified" class="h-5 w-5 ml-2" src="../../../../../assets/images/verify.png"
                        alt="">

                    <button *ngIf="!following[i]" (click)="followUser($event,data._id)"
                        class="ml-auto px-3 py-2 rounded-md text-white bg-blue-500 hover:bg-blue-700">
                        Follow
                    </button>
                    <button *ngIf="following[i]" (click)="followUser($event,data._id)"
                        class="ml-auto px-3 py-2 rounded-md text-blue-500 bg-white hover:bg-slate-200">
                        Following
                    </button>
                </div>
            </div>
        </div>
        <div *ngIf="message">
            {{message}}
        </div>
    </div>
</div>